<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  
  <link rel="stylesheet" href="{{ url_for( 'static', filename = 'style.css') }}"/>
  <link rel="shortcut icon" href="/static/img/vortex.png" type="imagem/x-icon"/>
  <title>Vortex</title>
  <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.css"/>
</head>

<body class="body-calendario">
      <i class="bi bi-list menu-mobile"></i>
      <aside id="header">
          <section class="profile">
            <a href="/index"><img id="logo" class="mt-4" src="/static/img/vortex.png" alt="fundo"/></a>
            <div class="info-cabecalho">
                  <a class="item-menu" href="/planner">Início</a>
                  <a class="item-menu" href="/atividades">Minhas atividades</a>
                  <a class="item-menu" href="/tasklist">Task List</a>
            </div>
          </section>
      </aside>

      <aside id="header-mobile">
        <section class="profile-mobile">
        <img id="logo-mobile" class="mt-3" src="/static/img/vortex.png" alt="fundo-mobile"/>
        <nav id="navbar" class="nav-menu">
          <ul class="nav flex-column">
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#"><i class="bi bi-house"></i>Início</a></li>
              <li class="nav-item"><a class="nav-link" href="#sobre"><i class="bi bi-person"></i>Sobre</a></li>
            
              <li class="nav-item"><a class="nav-link" href="/cadastro"><i class="bi bi-file-earmark"></i>Cadastro</a></li>

              <li class="nav-item"><a class="nav-link" href="/login"><i class="bi bi-file-code"></i>Login</a></li>
      </nav>
    </aside>

    <main class="main-calendario">
        <section class="calendario row m-0 p-0">
           <header class="cabecalho-calendar row">
             <a class="previous col" id="btn_prev"><</a>
             <div class="mes col"></div>
             <a class="next col" id="btn_next">></a>
           </header>
          
            <table class="table align-middle">
              <thead>
                <tr>
                    <td>Dom</td>
                    <td>Seg</td>
                    <td>Ter</td>
                    <td>Qua</td>
                    <td>Qui</td>
                    <td>Sex</td>
                    <td>Sab</td>
                </tr>
              </thead>
              <tbody id="dias">
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
              </tbody>
            </table>
            <footer>
              <h2 class="ano">--</h2>
            </footer>
        </section>
    </main>
    
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const meses = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
      const diasTabela = document.getElementById('dias');

      function configCalendar(mes, ano) {
        document.querySelector(".mes").innerHTML = meses[mes];
        document.querySelector(".ano").innerHTML = ano;

        let primeiroDiaDaSemana = new Date(ano, mes, 1).getDay()-1;
        let getUltimoDiaDoMes = new Date(ano, mes+1, 0).getDate();

        for(var i = -primeiroDiaDaSemana, index = 0; i < (42-primeiroDiaDaSemana); i++, index++){
            let dt = new Date(ano, mes, i);
            let diaTabela = diasTabela.getElementsByTagName('td')[index];
            diaTabela.classList.remove("mes-anterior");
            diaTabela.classList.remove("proximo-mes");
          
            diaTabela.innerHTML = dt.getDate();
    
            if(i < 1){
              diaTabela.classList.add("mes-anterior")
            }
            if(i > getUltimoDiaDoMes){
              diaTabela.classList.add("proximo-mes")
            }
        };
      }

      let atual = new Date();
      let mes = atual.getMonth();
      let ano = atual.getFullYear();
      configCalendar(mes, ano);

      const botao_proximo = document.getElementById('btn_next');
      const botao_anterior = document.getElementById('btn_prev');

      botao_proximo.onClick = function() {
        mes++;
        configCalendar(mes, ano);
      }
      botao_anterior.onClick = function() {
        mes--;
        configCalendar(mes, ano);
      }
    })

    
  </script>
  
</body>
</html>